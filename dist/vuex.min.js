!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).Vuex={})}(this,(function(t){"use strict";let n;function e(t,e){if(n)throw Error("Collision in state binding");const o=n=new Map,r=t();n=null;for(const t of o){const[n,o]=t;for(const t in o)e(n,t,o[t])}return r}function o(t,e,o){const r=n.get(t)||{};r[e]=o||null,n.set(t,r)}function r(){return!!n}const c=Object.prototype.hasOwnProperty,f=Symbol();function i(t){if("object"!=typeof t&&(t={}),null===t||t[f])return t;let l;const d={},p={},h=(t,n,o)=>{if(p[n])for(const t of p[n])t();p[n]=[];const r=()=>{t[n]=o(t,n)};return e((()=>o(t,n)),((t,e)=>{t.$on(e,r),p[n].push((()=>t.$off(e,r)))}))},y=(t,n,e,o)=>{[].concat(t).forEach((t=>{if(d[t])for(const r of d[t])r(n,e,o)}))},m=new Proxy(t,{get:(e,i,p)=>{if(i===f)return!0;if("$on"===i)return function(t,n){t&&n&&(d[t]||(d[t]=new Set),d[t].add(n))};if("$off"===i)return function(t,n){d[t]&&(n?d[t].delete(n):d[t].clear())};if("$clone"===i)return function(){return u(t)};if("$sync"===i)return async function(n,...e){if("function"==typeof n){let o=await n(u(t),null,...e);return s(this,o),l=async(...e)=>{const r=function(t,n){const e={add:[],del:[],mod:[],changed:!1};if(n===t||"object"!=typeof t||"object"!=typeof n)return e;const o={};for(const t in n){const e=n[t];"object"==typeof e&&(c.call(e,"id")&&(o[e.id]=e))}const r={};for(const n in t){const f=t[n];if("object"==typeof f)if(c.call(f,"id")){const t=f.id;if(r[t]=f,c.call(o,t)){const n=o[t],r={id:t};let i;for(const t in f)a(f[t],n[t])||(r[t]=f[t],i=!0);for(const t in n)c.call(f,t)||(r[t]=null,i=!0);i&&e.mod.push(u(r))}else e.add.push(u(f))}else e.add.push(u(f))}for(const t in o){const n=o[t];c.call(r,t)||e.del.push(u(n))}for(const t in e)if(e[t].length){e.changed=!0;break}return e}(t,o);return o=await n(u(t),r,...e),s(this,o),o},o}return"object"==typeof n?(s(this,n),this):"function"==typeof l?await l(...e):void 0};if("$each"===i)return function(t,n){return r()&&o(this,"$each",t),e.map(t,n).filter((t=>t))};if(r()){if("function"==typeof e[i]&&!c.call(e,i)){const t=e[i];return function(...r){return o(p,"#"),function(t){const e=n;n=null;const o=t();return n=e,o}((()=>t.apply(e,r)))}}o(p,i)}return Reflect.get(e,i)},set:(n,e,o,r)=>{if("function"==typeof o){if("$raw"!==o.name)return Reflect.set(n,e,o);o=h(r,e,o)}if("object"==typeof o&&(o=i(o),Array.isArray(n))){const n=()=>{const n=u(t);y([e,"*","#"],o,e,n)};o.$on("*",n),p[e]||(p[e]=[]),p[e].push((()=>o.$off("*",n)))}const f=u(n),s=Array.isArray(n)&&"length"===e||n[e]!==o;if(!Reflect.set(n,e,o))return!1;if(s){const t=c.call(f,e)?[e,"#mod","*"]:[e,"#add","*","#"];y(t,o,e,f)}return!0},deleteProperty:(t,n)=>{const e=u(t);if(!Reflect.deleteProperty(t,n))return!1;if(y(["#del","*","#"],void 0,n,e),d[n]&&delete d[n],p[n]){for(const t of p[n])t();delete p[n]}return Array.isArray(e[n])&&(l=null),!0}});for(const n in t)if("function"==typeof t[n]&&(t[n]=h(m,n,t[n])),"object"==typeof t[n]){const e=i(t[n]);if(t[n]=e,Array.isArray(t)){const o=()=>{const o=u(t);y([n,"*","#"],e,n,o)};e.$on("*",o),p[n]||(p[n]=[]),p[n].push((()=>e.$off("*",o)))}}return m}function s(t,n){if(t===n||"object"!=typeof n||"object"!=typeof t)return;const e=Array.isArray(t);for(const o in n)if(null!==n[o]&&"object"==typeof n[o]){if("object"!=typeof t[o]){const r=Array.isArray(n[o])?[]:{};s(r,n[o]),e?t.splice(o,1,r):t[o]=r}}else e?t.splice(o,1,n[o]):t[o]=n[o];if(e){const e=t.length-n.length;e>0&&t.splice(n.length,e)}else for(const e in t)c.call(n,e)||delete t[e]}function a(t,n){if("object"==typeof t&&"object"==typeof n){for(const e in n)if(!c.call(t,e))return!1;for(const e in t)if(!a(t[e],n[e]))return!1}else if(t!==n)return!1;return!0}function u(t){if("object"!=typeof t||null===t)return t;const n=Array.isArray(t)?[]:{};for(const e in t)n[e]=u(t[e]);return n}function l(t={},n={},o){const r=(t,n,e)=>{null!==e&&"object"==typeof e?l(e,t[n],o):t[n]=e};for(const c in t){let f=t[c];if("function"==typeof f){const t=f,i=()=>r(n,c,t());f=e(t,((t,n)=>{t.$on(n,i),o.push((()=>t.$off(n,i)))}))}r(n,c,f)}}function d(t){if(t?.el)return t.el;const n={...t};if(n.view){const{view:t,data:e,on:o,children:r}=n;return new t({data:e,on:o,children:r}).el}const{tagName:o="DIV",attributes:r,children:c,on:f}=n;delete n.tagName,delete n.attributes,delete n.children,delete n.on;const i=document.createElement(o);let s=[];i.addEventListener("removed",(()=>{for(const t of s)t();s=[]}),!1),l(n,i,s);for(const t in f){const n=f[t];"function"==typeof n&&i.addEventListener(t,n,!1)}for(const t in r){const n=r[t];i.setAttribute(t,n)}let a=c;if("function"==typeof c&&(a=e(c,((t,n,e)=>{if(Array.isArray(t)&&"$each"===n&&"function"==typeof e){const n=(t,n,o)=>{if(isNaN(n))return;const r=parseInt(n),c=e(t,r,o);if(c){const t=d(c);t&&i.appendChild(t)}};t.$on("#add",n),s.push((()=>t.$off("#add",n)));const o=(t,n,o)=>{if(isNaN(n))return;const r=parseInt(n),c=i.children[r],f=e(t,r,o);if(f){const t=d(f);t&&c&&i.replaceChild(t,c)}};t.$on("#mod",o),s.push((()=>t.$off("#mod",o)));const r=(t,n,e)=>{if(isNaN(n))return;const o=parseInt(n),r=i.children[o];r&&i.removeChild(r)};t.$on("#del",r),s.push((()=>t.$off("#del",r)))}else{const e=c,o=()=>{const t=[].concat(e());i.innerHTML="";for(const n of t){const t=d(n);i.appendChild(t)}};t.$on(n,o),s.push((()=>t.$off(n,o)))}}))),"object"==typeof a){const t=[].concat(a);for(const n of t){const t=d(n);i.appendChild(t)}}return i}t.createL10n=function(t,n){if(!n)for(n in t)break;function e(e,r,c){"string"==typeof r&&(c=r,r=null),c||(c=o.lang),t[c]||(c=n);let f=`${e}`.split(".").reduce(((t,n)=>{if("object"==typeof t)return t[n]}),t[c]);if(!f)return e;for(const t in r){const n=new RegExp(`%{${t}}`,"g");f=f.replace(n,r[t])}return f}const o=i({lang:navigator.language,t:function(){return e}});return o},t.createRouter=function(){function t(t,n){"object"==typeof t&&(n=t,t=null),location.hash=function(t,n){const e=[];for(const t in n)e.push(`${t}=${n[t]}`);let o=t||"#";e.length&&(o+=`?${e.join("&")}`);return o}(t,n)}function n(){const{path:t,params:n}=function(t){const n={},e=/[?&]([^=]+)=([^&]*)/g;let o=e.exec(t);for(;o;)n[decodeURIComponent(o[1])]=decodeURIComponent(o[2]),o=e.exec(t);const r=/^([^?]+)/.exec(t)||[],c=decodeURIComponent(r[1]||"#");return{path:c,params:n}}(location.hash);e.params||(e.params={});for(const t in e.params)Object.prototype.hasOwnProperty.call(n,t)||delete e.params[t];for(const t in n)e.params[t]!==n[t]&&(e.params[t]=n[t]);e.path=t}const e=i({path:"",params:{},show:function(){return t}});return n(),e.$on("path",(()=>{t(e.path,e.params)})),e.$on("params",(()=>{t(e.path,e.params)})),e.params.$on("*",(()=>{t(e.path,e.params)})),window.addEventListener("hashchange",(()=>n())),e},t.createState=i,t.createView=function(t,n){if(n){const t=function(t){const n=new MutationObserver((function(t){const n=(t,e)=>{const o=t.children;for(let t=0;t<o.length;t++)n(o[t],e);const r=new Event(e);t.dispatchEvent(r)};for(const e of t)e.addedNodes.forEach((t=>{t.nodeType===Node.ELEMENT_NODE&&n(t,"mounted")})),e.removedNodes.forEach((t=>{t.nodeType===Node.ELEMENT_NODE&&n(t,"removed")}))}));return n.observe(t,{childList:!0,subtree:!0}),n}(n);n.addEventListener("removed",(()=>t.disconnect()),!1)}const e=d(t);return n&&n.appendChild(e),e}}));
